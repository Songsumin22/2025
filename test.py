import streamlit as st

st.title("📚 과목별 성적대별 상세 문제집 추천 웹앱")
st.write("과목과 성적대를 선택하면 추천 문제집, 공부 루트, 학습 이유까지 상세히 안내합니다.")

# 과목 선택
subjects = ["수학", "영어", "국어",
            "물리학", "화학", "지구과학", "생명과학",
            "생활과 윤리", "한국지리", "세계지리", "정치와 법"]
subject = st.selectbox("과목 선택", subjects)

# 성적대 선택
grades = ["상위권 (1~2등급)", "중위권 (3~4등급)", "하위권 (5등급 이하)"]
grade = st.selectbox("성적대 선택", grades)

# 상세 추천 데이터 (예시)
recommendation_data = {
    "수학": {
        "상위권 (1~2등급)": {
            "문제집":["정석", "쎈", "블랙라벨", "한완수", "실전모의고사"],
            "공부루트":"정석 → 쎈 → 블랙라벨 → 한완수 → 실모 병행",
            "이유":"빠른 개념 정리 후 심화 문제 위주 학습. 기출과 실모로 실전 대비 가능."
        },
        "중위권 (3~4등급)": {
            "문제집":["풍산자 개념완성", "쎈 + RPM", "자이스토리/마더텅", "수능특강"],
            "공부루트":"개념완성 → 쎈+RPM → 자이스토리/마더텅 → 수능특강",
            "이유":"개념을 꼼꼼히 정리하면서 유형 연습 반복. 학교 내신과 수능 대비 동시에 가능."
        },
        "하위권 (5등급 이하)": {
            "문제집":["개념원리", "스타트업", "RPM", "체크체크", "강의 병행"],
            "공부루트":"개념원리/스타트업 → RPM + 체크체크 → 반복 복습 → 강의 병행",
            "이유":"기초 개념부터 차근차근 학습하며 정확성을 우선시. 쉬운 문제부터 단계적으로 실력 향상."
        },
    },
    "영어": {
        "상위권 (1~2등급)": {
            "문제집":["천일문 핵심", "자이스토리 모의고사", "올림포스 기출"],
            "공부루트":"천일문 → 자이스토리 모의고사 → 올림포스 기출 문제풀이",
            "이유":"고난도 독해와 문법 심화, 실전 모의고사 병행으로 상위권 유지."
        },
        "중위권 (3~4등급)": {
            "문제집":["해커스 중급영어", "자이스토리 내신편", "자이스토리 수능편"],
            "공부루트":"해커스 중급영어 → 자이스토리 내신편 → 수능편",
            "이유":"문법과 독해 유형 반복 학습, 내신과 수능 기출 문제 병행 가능."
        },
        "하위권 (5등급 이하)": {
            "문제집":["해커스 기초영어", "쉬운 독해 문제", "단어장"],
            "공부루트":"기초 문법 학습 → 쉬운 독해 → 단어 암기",
            "이유":"영어 자체에 대한 부담 감소, 기초부터 차근차근 실력 향상."
        },
    },
    "국어": {
        "상위권 (1~2등급)": {
            "문제집":["바이블 국어 문학 입문", "자이스토리 고전 시가 총정리", "마더텅 전국연합 기출"],
            "공부루트":"바이블 문학 입문 → 자이스토리 고전 시가 총정리 → 마더텅 기출 문제풀이",
            "이유":"문학 기본 개념 정리, 고전 심화 학습, 기출 문제 분석으로 상위권 유지."
        },
        "중위권 (3~4등급)": {
            "문제집":["EBS 수능특강", "비상 국어 유형", "마더텅 기출"],
            "공부루트":"수능특강 → 비상 국어 유형 → 기출 문제풀이",
            "이유":"기본 개념 학습 후 유형별 연습, 기출 문제로 실전 대비 가능."
        },
        "하위권 (5등급 이하)": {
            "문제집":["비상 국어 기본", "마더텅 쉬운 문제집", "EBS 수능특강 강의 병행"],
            "공부루트":"기초 개념 정리 → 쉬운 문제풀이 → 강의 병행",
            "이유":"문학/독해 기초부터 반복 학습하며 이해도를 높이고 점진적 실력 향상."
        },
    }
    # 다른 과목도 같은 방식으로 추가 가능
}

# 선택된 과목과 성적대 추천 정보 가져오기
info = recommendation_data.get(subject, {}).get(grade, None)

if info:
    st.subheader(f"✅ {subject} - {grade} 추천 정보")
    
    st.markdown("**추천 문제집 리스트:**")
    for idx, book in enumerate(info["문제집"], start=1):
        st.write(f"{idx}. {book}")
    
    st.markdown("**추천 공부 루트:**")
    st.write(info["공부루트"])
    
    st.markdown("**추천 이유:**")
    st.write(info["이유"])
else:
    st.write("선택된 과목/성적대에 대한 데이터가 없습니다.")
