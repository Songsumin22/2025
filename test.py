import streamlit as st

# ===============================
# 데이터 정의
# ===============================
data = {
    "국어": {
        "문학": [
            {"책": "매삼문", "설명": "수능 국어 처음 접하거나 평가원 기출문제를 풀어 보고 싶은 학생 추천. 매일 3개의 지문으로 꾸준히 연습 가능."},
            {"책": "마더텅 국어 문학", "설명": "국어에 자신이 없지만 혼자 공부하고 싶은 학생 적합. 해설이 상세하여 독학 가능."},
            {"책": "빠작 고등 국어 고전 문학", "설명": "핵심 고전문학 효율적 학습 가능. 유형별 체계적 구성, 빈출 어휘 학습 가능."},
            {"책": "EBS 올림포스 고전/현대 문학", "설명": "고전 문학 내신과 수능 동시 준비 가능. 시대별 구성과 상세 예시 제공."},
        ],
        "학습루트": "문학 기초 → 기출문제 풀이 → 심화 작품 분석 → 모의고사 실전 연습",
        "루트이유": "기초부터 시작해 난이도를 점진적으로 높이며 문학 감각과 문제 해결력을 동시에 향상시킬 수 있습니다."
    },
    "영어": {
        "1~2등급": {
            "문제집": [
                {"책": "EBS 수능특강 영어", "설명": "수능과 내신 대비 가능."},
                {"책": "쎄듀 빈순삽함 실전편", "설명": "기출 분석과 실전 연습 최적화."},
                {"책": "수능영어 절대유형 3142", "설명": "3점 문항 유형 집중 훈련."},
                {"책": "어법끝 ESSENTIAL", "설명": "수능/내신 고난도 어법 완성."}
            ],
            "학습루트": "문법 고난도 → 독해 고난도 지문 → 어휘 심화 암기 → 실전 문제 풀이",
            "루트이유": "1~2등급 학생은 실수 최소화와 고난도 문제 완벽 해결이 목표이므로, 기초 점검 후 실전 대비 집중이 중요합니다."
        },
        "3~4등급": {
            "문제집": [
                {"책": "파워업 독해실전편", "설명": "실전 독해 훈련 적합."},
                {"책": "천일문 핵심 (Essential)", "설명": "문장 구조와 독해 병행 가능."},
                {"책": "어법끝 ESSENTIAL", "설명": "수능/내신 필수 문법 완성."},
                {"책": "어휘끝 수능", "설명": "중급 수준 필수 어휘 학습."}
            ],
            "학습루트": "문법 기본 점검 → 독해 중급 지문 → 어휘 암기 → 기출 문제 풀이",
            "루트이유": "기초 부족 부분을 보완하고 중급 독해 실력을 완성하며, 반복 학습으로 점차 난이도 올리기."
        },
        "5~6등급": {
            "문제집": [
                {"책": "어법끝 START", "설명": "수능 내신 어법 기본기 다지기."},
                {"책": "파워업 독해유형편", "설명": "독해 유형별 해결 전략과 문제풀이."},
                {"책": "어휘끝 고교기본", "설명": "기본 어휘력 강화."}
            ],
            "학습루트": "문법 기초 → 짧은 독해 → 기초 어휘 암기 → 쉬운 문제 반복",
            "루트이유": "영어 기초 다지기가 우선이며, 정확한 문장 이해와 기본 단어 활용 능력 확보가 목표입니다."
        },
        "7~9등급": {
            "문제집": [
                {"책": "어휘끝 중학 마스터", "설명": "중학 영단어 마스터 및 기초 어휘력 보강."},
                {"책": "첫단추 독해유형편", "설명": "수능 유형별 해결 전략과 꼼꼼한 해설 제공."},
                {"책": "Grammar in Use Basic", "설명": "기초 문법 학습."},
                {"책": "2025 중학영문법 3800제", "설명": "중학영문법 마스터 및 기초 실력 보강."}
            ],
            "학습루트": "문법 기초 학습 → 단어 기초 암기 → 쉬운 지문 반복 독해 → 문장 구조 이해",
            "루트이유": "영어에 대한 자신감 회복과 기초 실력 확보가 최우선 목표입니다."
        }
    },
    "수학": {
        "상위권 (1~2등급)": {"루트": "정석 → 쎈 → 블랙라벨 or 일품 → 한완수 → 실모 병행", "설명": "개념 빠르게 훑고 심화 문제 위주 학습, 기출 분석 철저."},
        "중위권 (3~4등급)": {"루트": "개념원리 or 풍산자 → 쎈 + RPM → 자이스토리/마더텅 → 수능특강", "설명": "개념 정리와 유형 반복 연습. 내신+수능 병행."},
        "하위권 (5등급 이하)": {"루트": "개념원리 or 스타트업 → RPM + 체크체크 → 반복 복습 + 강의 병행", "설명": "기초 개념부터 차근차근 학습, 하루 1단원 정확히 이해."}
    },
    "과탐": {
        "물리": [
            {"책": "완자 고등 물리학1", "설명": "물리 기본 개념 잡기 좋음. 쉬운 설명으로 첫 입문용 추천."},
            {"책": "오투 과학탐구 물리학1", "설명": "적당한 난이도, 기출 2~3점 문제 난이도별 구성."},
            {"책": "하이탑 물리학1", "설명": "심화 개념과 수준 높은 문제 수록. 깊이 있는 이해 가능."},
            {"책": "1등급 만들기 물리학1", "설명": "고난도 기출 문제 중심, 심화 학습 적합."}
        ],
        "화학": [
            {"책": "완자 고등 화학1", "설명": "개념과 문제 구성 균형. 그림과 핵심 포인트 강조."},
            {"책": "하이탑 고등 화학1", "설명": "상위권 필수 개념서, 단계별 문제 구성."},
            {"책": "EBS 개념완성 화학1", "설명": "내신+수능 대비, 무료 인강 활용 가능."},
            {"책": "자이스토리 화학1", "설명": "1등급 킬러 문제 수록, 동영상 강의 지원."}
        ]
    }
}

# ===============================
# Streamlit UI
# ===============================
st.title("고2 과목&수준별 문제집 추천 & 학습 루트 안내")

# 과목 선택
subject = st.selectbox("과목을 선택하세요", list(data.keys()))

# 국어, 영어, 수학, 과탐 분기
if subject == "국어":
    category = st.selectbox("국어 분야를 선택하세요", list(data[subject].keys())[:-2])  # 학습루트 제외
    st.subheader(f"{subject} - {category} 추천 문제집")
    for item in data[subject][category]:
        st.markdown(f"**{item['책']}**")
        st.write(item['설명'])
    if st.button("학습 루트 보기"):
        st.write(f"**학습 루트:** {data[subject]['학습루트']}")
        st.write(f"**루트 이유:** {data[subject]['루트이유']}")

elif subject == "영어":
    grade = st.selectbox("영어 등급을 선택하세요", list(data[subject].keys()))
    st.subheader(f"{subject} {grade} 추천 문제집")
    for item in data[subject][grade]["문제집"]:
        st.markdown(f"**{item['책']}**")
        st.write(item['설명'])
    if st.button("학습 루트 보기"):
        st.write(f"**학습 루트:** {data[subject][grade]['학습루트']}")
        st.write(f"**루트 이유:** {data[subject][grade]['루트이유']}")

elif subject == "수학":
    grade = st.selectbox("수학 수준을 선택하세요", list(data[subject].keys()))
    st.subheader(f"{subject} {grade} 학습 루트")
    st.write(f"**루트:** {data[subject][grade]['루트']}")
    st.write(f"**설명:** {data[subject][grade]['설명']}")

elif subject == "과탐":
    category = st.selectbox("과탐 분야를 선택하세요", list(data[subject].keys()))
    st.subheader(f"{subject} - {category} 추천 문제집")
    for item in data[subject][category]:
        st.markdown(f"**{item['책']}**")
        st.write(item['설명'])
