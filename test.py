import streamlit as st

st.title("📚 전과목 성적대별 추천 문제집 및 공부 루트 웹앱")
st.write("부족한 과목과 자신의 성적대를 선택하면 적합한 문제집과 구체적인 공부 루트를 안내합니다.")

# 과목 선택
subjects = [
    "수학", "영어", "국어",
    "물리학", "화학", "지구과학", "생명과학",
    "생활과 윤리", "한국지리", "세계지리", "정치와 법"
]
subject = st.selectbox("부족한 과목을 선택하세요", subjects)

# 성적대 선택
grades = ["상위권 (1~2등급)", "중위권 (3~4등급)", "하위권 (5등급 이하)"]
grade = st.selectbox("자신의 성적대를 선택하세요", grades)

# 문제집 데이터
books_data = {
    "수학": {
        "상위권 (1~2등급)": [
            ("정석 → 쎈 → 블랙라벨 or 일품 → 한완수 → 실모 병행",
             "빠른 개념 정리 후 심화 문제 위주 학습. 정석, 개념원리로 개념 훑고 쎈, 자이스토리, 블랙라벨로 유형 훈련. 고난도 일품, 수능특강/한완수로 실전 정리, 기출+실모 병행")
        ],
        "중위권 (3~4등급)": [
            ("개념원리 or 풍산자 → 쎈 + RPM → 자이스토리/마더텅 → 수능특강",
             "개념을 꼼꼼히 정리하며 유형 연습 반복. 풍산자 개념완성/개념원리로 개념, 쎈+RPM으로 유형, 내신 자이스토리/마더텅, 수능 기출 자이스토리")
        ],
        "하위권 (5등급 이하)": [
            ("개념원리 or 스타트업 → RPM + 체크체크 → 반복 복습 + 강의 병행",
             "수학에 대한 두려움 극복 우선. 기초 개념 중심 교재(숨마 스타트업, 개념원리, 체크체크), 쉬운 쎈/RPM 반복 학습, 하루 한 단원씩 정확히 이해")
        ],
    },
    "영어": {
        "상위권 (1~2등급)": [
            ("천일문 핵심 Essential 500 Sentences → 2023 Xistory 모의고사 → 올림포스 기출 변형문제",
             "고난도 독해, 문법 심화, 실전 모의고사 병행으로 상위권 유지")
        ],
        "중위권 (3~4등급)": [
            ("해커스 중급영어 → 자이스토리 내신편 → 자이스토리 수능편",
             "문법과 독해 유형 반복 학습, 내신 대비 문제풀이, 수능 기출문제 분석")
        ],
        "하위권 (5등급 이하)": [
            ("해커스 기초영어 → 쉬운 독해 문제 → 해커스 단어장",
             "기초 문법과 단어 학습 후 쉬운 독해 문제로 반복 학습, 하루 단위 계획 추천")
        ],
    },
    "국어": {
        "상위권 (1~2등급)": [
            ("수능 기출의 바이블 국어 문학 입문 → Xistory 자이스토리 고전 시가 총정리 → 마더텅 전국연합 학력평가 기출문제집",
             "문학 기초 개념 정리 후 고전 시가 심화, 기출 문제 분석 및 실전 연습")
        ],
        "중위권 (3~4등급)": [
            ("EBS 수능특강 국어 → 비상 국어 유형 → 마더텅 수능 기출문제집",
             "기본 개념 학습 후 유형별 문제 풀이, 기출 문제 분석")
        ],
        "하위권 (5등급 이하)": [
            ("비상 국어 기본 → 마더텅 쉬운 문제집 → EBS 수능특강 강의 병행",
             "기초 개념 정리, 쉬운 문제 반복, 강의로 개념 보충")
        ],
    },
    "물리학": {
        "상위권 (1~2등급)": [
            ("EBS 수능특강 과학탐구영역 → EBS 수능완성 과학탐구영역 → EBS 수능 기출의 미래",
             "심화 문제와 기출 문제 반복 학습")
        ],
        "중위권 (3~4등급)": [
            ("마플 물리 유형 → 자이스토리 내신편 → 자이스토리 수능편",
             "단원별 문제 반복 학습으로 점수 향상")
        ],
        "하위권 (5등급 이하)": [
            ("마플 물리 기본 → 쉬운 문제 반복 → EBS 수능특강 과학탐구영역 강의 병행",
             "기초 개념부터 다시 정리")
        ],
    },
    "화학": {
        "상위권 (1~2등급)": [
            ("EBS 수능특강 → EBS 수능완성 → EBS 수능 기출의 미래",
             "심화 문제와 기출 문제 반복 학습")
        ],
        "중위권 (3~4등급)": [
            ("쎈 화학 유형 → 자이스토리 내신편 → 자이스토리 수능편",
             "단원별 문제 반복 학습으로 점수 향상")
        ],
        "하위권 (5등급 이하)": [
            ("쎈 화학 기본 → 쉬운 문제 반복 → 강의 병행",
             "기초 개념부터 다시 학습")
        ],
    },
    "지구과학": {
        "상위권 (1~2등급)": [
            ("EBS 수능특강 → EBS 수능완성 → EBS 수능 기출의 미래",
             "심화 문제와 기출 문제 반복 학습")
        ],
        "중위권 (3~4등급)": [
            ("좋은책 지구과학 유형 → 자이스토리 내신편 → 자이스토리 수능편",
             "응용 문제 반복 학습으로 실력 향상")
        ],
        "하위권 (5등급 이하)": [
            ("좋은책 지구과학 기본 → 쉬운 문제 반복 → 강의 병행",
             "기초 개념부터 다시 정리")
        ],
    },
    "생명과학": {
        "상위권 (1~2등급)": [
            ("EBS 수능특강 → EBS 수능완성 → EBS 수능 기출의 미래",
             "심화 문제와 기출 문제 반복 학습")
        ],
        "중위권 (3~4등급)": [
            ("생명과학 유형 → 자이스토리 내신편 → 자이스토리 수능편",
             "단원별 문제 반복 학습으로 점수 향상")
        ],
        "하위권 (5등급 이하)": [
            ("생명과학 기본 → 쉬운 문제 반복 → 강의 병행",
             "기초 개념부터 다시 정리")
        ],
    },
    "생활과 윤리": {
        "상위권 (1~2등급)": [
            ("EBS 수능특강 → EBS 수능완성 → 마더텅 수능기출",
             "심화 문제와 기출 문제 반복 학습")
        ],
        "중위권 (3~4등급)": [
            ("자이스토리 유형 → 자이스토리 내신편 → 자이스토리 수능편",
             "개념 이해와 문제 반복 학습")
        ],
        "하위권 (5등급 이하)": [
            ("자이스토리 기본 → 쉬운 문제 반복 → 강의 병행",
             "기초 개념부터 다시 정리")
        ],
    },
    "한국지리": {
        "상위권 (1~2등급)": [
            ("EBS 수능특강 → EBS 수능완성 → 마더텅 수능기출",
             "심화 문제와 기출 문제 반복 학습")
        ],
        "중위권 (3~4등급)": [
            ("자이스토리 유형 → 자이스토리 내신편 → 자이스토리 수능편",
             "개념 이해와 문제 반복 학습")
        ],
        "하위권 (5등급 이하)": [
            ("자이스토리 기본 → 쉬운 문제 반복 → 강의 병행",
             "기초 개념부터 다시 정리")
        ],
    },
    "세계지리": {
        "상위권 (1~2등급)": [
            ("EBS 수능특강 → EBS 수능완성 → 마더텅 수능기출",
             "심화 문제와 기출 문제 반복 학습")
        ],
        "중위권 (3~4등급)": [
            ("자이스토리 유형 → 자이스토리 내신편 → 자이스토리 수능편",
             "개념 이해와 문제 반복 학습")
        ],
        "하위권 (5등급 이하)": [
            ("자이스토리 기본 → 쉬운 문제 반복 → 강의 병행",
             "기초 개념부터 다시 정리")
        ],
    },
    "정치와 법": {
        "상위권 (1~2등급)": [
            ("EBS 수능특강 → EBS 수능완성 → 마더텅 수능기출",
             "심화 문제와 기출 문제 반복 학습")
        ],
        "중위권 (3~4등급)": [
            ("자이스토리 유형 → 자이스토리 내신편 → 자이스토리 수능편",
             "개념 이해와 문제 반복 학습")
        ],
        "하위권 (5등급 이하)": [
            ("자이스토리 기본 → 쉬운 문제 반복 → 강의 병행",
             "기초 개념부터 다시 정리")
        ],
    },
}

# 추천 버튼
if st.button("추천 받기"):
    recommended_books = books_data.get(subject, {}).get(grade, [])
    
    if recommended_books:
        st.subheader(f"{subject} - {grade} 추천 문제집 및 공부 루트")
        for study_route, reason in recommended_books:
            st.markdown(f"**📖 공부 루트:** {study_route}")
            st.write(f"추천 이유: {reason}")
    else:
        st.write("추천 문제집이 없습니다. 다른 성적대를 선택해보세요.")
